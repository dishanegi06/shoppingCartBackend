function cov_76ao9hcnr(){var path="C:\\Users\\91976\\Desktop\\Shoppingcart\\server\\Products\\routes\\api.js";var hash="5d4ac078fa3887a69f79ad77d8d41f0969fa8bd6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\91976\\Desktop\\Shoppingcart\\server\\Products\\routes\\api.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:3,column:13},end:{line:3,column:29}},"2":{start:{line:4,column:15},end:{line:4,column:44}},"3":{start:{line:5,column:19},end:{line:5,column:52}},"4":{start:{line:10,column:0},end:{line:24,column:3}},"5":{start:{line:12,column:3},end:{line:12,column:40}},"6":{start:{line:13,column:3},end:{line:23,column:6}},"7":{start:{line:16,column:7},end:{line:22,column:8}},"8":{start:{line:18,column:11},end:{line:18,column:41}},"9":{start:{line:20,column:11},end:{line:20,column:39}},"10":{start:{line:21,column:11},end:{line:21,column:36}},"11":{start:{line:34,column:0},end:{line:48,column:3}},"12":{start:{line:36,column:3},end:{line:36,column:39}},"13":{start:{line:37,column:3},end:{line:47,column:6}},"14":{start:{line:40,column:7},end:{line:46,column:8}},"15":{start:{line:42,column:11},end:{line:42,column:41}},"16":{start:{line:44,column:11},end:{line:44,column:37}},"17":{start:{line:45,column:11},end:{line:45,column:34}},"18":{start:{line:50,column:0},end:{line:56,column:3}},"19":{start:{line:52,column:3},end:{line:55,column:6}},"20":{start:{line:54,column:7},end:{line:54,column:30}},"21":{start:{line:59,column:0},end:{line:65,column:2}},"22":{start:{line:61,column:4},end:{line:64,column:7}},"23":{start:{line:63,column:8},end:{line:63,column:31}},"24":{start:{line:469,column:0},end:{line:469,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:27},end:{line:10,column:28}},loc:{start:{line:11,column:0},end:{line:24,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:9},end:{line:14,column:10}},loc:{start:{line:15,column:3},end:{line:23,column:4}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:34,column:34},end:{line:34,column:35}},loc:{start:{line:35,column:0},end:{line:48,column:1}},line:35},"3":{name:"(anonymous_3)",decl:{start:{line:38,column:9},end:{line:38,column:10}},loc:{start:{line:39,column:3},end:{line:47,column:4}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:50,column:28},end:{line:50,column:29}},loc:{start:{line:51,column:0},end:{line:56,column:1}},line:51},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:38},end:{line:52,column:39}},loc:{start:{line:53,column:3},end:{line:55,column:4}},line:53},"6":{name:"(anonymous_6)",decl:{start:{line:59,column:34},end:{line:59,column:35}},loc:{start:{line:60,column:0},end:{line:65,column:1}},line:60},"7":{name:"(anonymous_7)",decl:{start:{line:61,column:55},end:{line:61,column:56}},loc:{start:{line:62,column:4},end:{line:64,column:5}},line:62}},branchMap:{"0":{loc:{start:{line:16,column:7},end:{line:22,column:8}},type:"if",locations:[{start:{line:16,column:7},end:{line:22,column:8}},{start:{line:16,column:7},end:{line:22,column:8}}],line:16},"1":{loc:{start:{line:40,column:7},end:{line:46,column:8}},type:"if",locations:[{start:{line:40,column:7},end:{line:46,column:8}},{start:{line:40,column:7},end:{line:46,column:8}}],line:40}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5d4ac078fa3887a69f79ad77d8d41f0969fa8bd6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_76ao9hcnr=function(){return actualCoverage;};}return actualCoverage;}cov_76ao9hcnr();const express=(cov_76ao9hcnr().s[0]++,require('express'));//const category = require('../models/category');
const router=(cov_76ao9hcnr().s[1]++,express.Router());const Category=(cov_76ao9hcnr().s[2]++,require('../models/category'));const mainCategory=(cov_76ao9hcnr().s[3]++,require('../models/mainCategory'));//get mainCategories
cov_76ao9hcnr().s[4]++;router.get('/mainCategory',function(req,res){cov_76ao9hcnr().f[0]++;cov_76ao9hcnr().s[5]++;console.log("Getting all the items");cov_76ao9hcnr().s[6]++;mainCategory.find({}).exec(function(err,maincategories){cov_76ao9hcnr().f[1]++;cov_76ao9hcnr().s[7]++;if(err){cov_76ao9hcnr().b[0][0]++;cov_76ao9hcnr().s[8]++;res.send('error has occured');}else{cov_76ao9hcnr().b[0][1]++;cov_76ao9hcnr().s[9]++;console.log(maincategories);cov_76ao9hcnr().s[10]++;res.json(maincategories);}});});//get with respect title
cov_76ao9hcnr().s[11]++;router.get('/mainCategory/:title',function(req,res){cov_76ao9hcnr().f[2]++;cov_76ao9hcnr().s[12]++;console.log("Getting one Category");cov_76ao9hcnr().s[13]++;mainCategory.findOne({}).exec(function(err,maincategory){cov_76ao9hcnr().f[3]++;cov_76ao9hcnr().s[14]++;if(err){cov_76ao9hcnr().b[1][0]++;cov_76ao9hcnr().s[15]++;res.send('error has occured');}else{cov_76ao9hcnr().b[1][1]++;cov_76ao9hcnr().s[16]++;console.log(maincategory);cov_76ao9hcnr().s[17]++;res.send(maincategory);}});});//post the main categories
cov_76ao9hcnr().s[18]++;router.post('/mainCategory',function(req,res){cov_76ao9hcnr().f[4]++;cov_76ao9hcnr().s[19]++;mainCategory.create(req.body).then(function(maincategory){cov_76ao9hcnr().f[5]++;cov_76ao9hcnr().s[20]++;res.send(maincategory);});});//delete specific created objects
cov_76ao9hcnr().s[21]++;router.delete('/mainCategory/:id',function(req,res){cov_76ao9hcnr().f[6]++;cov_76ao9hcnr().s[22]++;mainCategory.findByIdAndRemove(req.params.id).then(function(maincategory){cov_76ao9hcnr().f[7]++;cov_76ao9hcnr().s[23]++;res.send(maincategory);});});//edit
/*router.patch('/mainCategory/:id' ,(req,res)=>
{
mainCategory.findOneAndUpdate({'_id':req.params.id},{ $set:req.body })
.then((maincategory)=>{
    if(maincategory)
    {
        res.json(maincategory);
    
     }
    else{
        res.json("Invalid Id!");
    }
     }).catch((err)=>{
         if(err)
         {
             throw err;
         }
     });

});


//categories

//get a list of categories from the db
router.get('/categories',function(req,res)
{
   console.log("Getting all the items");
   Category.find({})
   .exec(function(err,categories)
   {
       if(err)
       {
           res.send('error has occured');
       }else{
           console.log(categories);
           res.json(categories);
       }
   })
});
//get specific category
router.get('/categories/:title',function(req,res)
{
   console.log("Getting one Category");
   Category.findOne({})
   .exec(function(err,category)
   {
       if(err)
       {
           res.send('error has occured');
       }else{
           console.log(category);
           res.send(category);
       }
   });
});

//create new objects
router.post('/categories',function(req,res)
{
   Category.create(req.body).then(function(categories)
   {
       res.send(categories);
   });
});

//delete specific created objects
router.delete('/categories/:id',function(req,res)
{
    Category.findByIdAndRemove(req.params.id).then(function(category)
    {
        res.send(category);
    });
})

router.patch('/categories/:id' ,(req,res)=>
{
Category.findOneAndUpdate({'_id':req.params.id},{ $set:req.body })
.then((category)=>{
    if(category)
    {
        res.json(category);
    
    }
    else{
        res.json("Invalid Id!");
    }
     }).catch((err)=>{
         if(err)
         {
             throw err;
         }
     });

});


router.delete('/categories/:id',function(req,res)
{
    Category.findByIdAndRemove(req.params.id).then(function(category)
    {
        res.send(category);
    });
})











//Products
const Product=require('../models/product');

//get a list of categories from the db
router.get('/product',function(req,res)
{
   console.log("Getting all the items");
   Product.find({})
   .exec(function(err,product)
   {
       if(err)
       {
           res.send('error has occured');
       }else{
           console.log(product);
           res.json(product);
       }
   })
});

//get a specific product by it's title
router.get('/product/:category',function(req,res)
{
   console.log("Getting one product");
   Product.findOne({})
   .exec(function(err,product)
   {
       if(err)
       {
           res.send('error has occured');
       }else{
           console.log(product);
           res.json(product);
       }
   });
});
//get specific products  by specific id
router.get("/product/:id",(req,res)=>
{
 Product.findById(req.params.id).then((product)=>{
if(product)
{
    
    res.json(product);

}
else{
    res.json("Invalid Id!");
}
 }).catch((err)=>{
     if(err)
     {
         throw err;
     }
 });
});

//update sepecific items
router.put('/product/:title',function(req,res)
{
   console.log("updating specific items");
   Product.findOneAndUpdate({title:req.params.title},req.body).then(function()
   {
    Product.findOne({title:req.params.title}).then(function(product)
    {
        console.log(req.body);
        res.json(product);
    });
   });
});

//create new objects
router.post('/product',function(req,res)
{
   Product.create(req.body).then(function(product)
   {
       res.json(product);
   });
});

//update
router.patch('/product/:id' ,(req,res)=>
{
Product.findOneAndUpdate({'_id':req.params.id},{ $set:req.body })
.then((product)=>{
    if(product)
    {
        res.json(product);
    
    }
    else{
        res.json("Invalid Id!");
    }
     }).catch((err)=>{
         if(err)
         {
             throw err;
         }
     });

});
//delete specific id
router.delete('/product/:id',function(req,res)
{
    Product.findByIdAndRemove(req.params.id)
    .then((product)=>{
        if(product)
        {
            res.json(product);
        
        }
        else{
            res.json("Invalid Id!");
        }
         }).catch((err)=>{
             if(err)
             {
                 throw err;
             }
         });
});

//post items in a cart
const Cart=require('../models/cart');

router.post('/Cart/:userId/:productId/:title/:price',(req,res)=>
{
new Cart({'userId':req.params.userId,'productId':req.params.productId,'title':req.params.title,'price':req.params.price,'quantity':req.body.quantity})
.save()
.then((cart)=> res.send(cart))
.catch((error)=> console.log(error));
});

router.post('/Cart',function(req,res)
{
   Cart.create(req.body).then(function(product)
   {
       res.json(product);
   });
});








router.get('/Cart',function(req,res)
{
   console.log("Getting all the items in a cart");
   Cart.find({})
   .exec(function(err,cart)
   {
       if(err)
       {
           res.send('error has occured');
       }else{
           console.log(cart);
           res.json(cart);
       }
   })
});

router.get("/Cart/:id",(req,res)=>
{
 Cart.findById(req.params.id).then((product)=>{
if(product)
{
    res.json(product);

}
else{
    res.json("Invalid Id!");
}
 }).catch((err)=>{
     if(err)
     {
         throw err;
     }
 });
});


router.get('/Cart/:userId/products',(req,res)=>
{
    Cart.find({userId:req.params.userId})
    .then((products)=> res.send(products))
    .catch((error)=>console.log(error));
});

//delete cart items
router.delete('/Cart/:id',function(req,res)
{
    Cart.findByIdAndRemove(req.params.id)
    .then((cart)=>{
        if(cart)
        {
            res.json(cart);
        
        }
        else{
            res.json("Invalid Id!");
        }
         }).catch((err)=>{
             if(err)
             {
                 throw err;
             }
         });
});  










router.put('/Cart/:id',function(req,res)
{
   console.log("updating specific items");
   Cart.findByIdAndUpdate({_id:req.params.id},req.body).then(function(product)
   {
        console.log(req.body);
        res.send(product);
    });
   });







   //Sale Products

  


  
















//maincategorywise categories
router.get('/mainCategory/:title/categories',(req,res)=>
{
Category.find({mainCategory:req.params.title})
.then((categories)=> res.send(categories))
.catch((error)=>console.log(error));
});
//categorywise products

router.get('/categories/:title/product',(req,res)=>
{
Product.find({category:req.params.title})
.then((products)=> res.send(products))
.catch((error)=>console.log(error));
});

/**router.get('/categories/:title/sale',(req,res)=>
{
Sale.find({category:req.params.title})
.then((products)=> res.send(products))
.catch((error)=>console.log(error));
});
**/cov_76ao9hcnr().s[24]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsIkNhdGVnb3J5IiwibWFpbkNhdGVnb3J5IiwiZ2V0IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImZpbmQiLCJleGVjIiwiZXJyIiwibWFpbmNhdGVnb3JpZXMiLCJzZW5kIiwianNvbiIsImZpbmRPbmUiLCJtYWluY2F0ZWdvcnkiLCJwb3N0IiwiY3JlYXRlIiwiYm9keSIsInRoZW4iLCJkZWxldGUiLCJmaW5kQnlJZEFuZFJlbW92ZSIsInBhcmFtcyIsImlkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InN0SEFlWTt5RkFmWixLQUFNQSxDQUFBQSxPQUFPLHlCQUFDQyxPQUFPLENBQUMsU0FBRCxDQUFSLENBQWIsQ0FDQTtBQUNBLEtBQU1DLENBQUFBLE1BQU0seUJBQUNGLE9BQU8sQ0FBQ0csTUFBUixFQUFELENBQVosQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLHlCQUFDSCxPQUFPLENBQUMsb0JBQUQsQ0FBUixDQUFkLENBQ0EsS0FBTUksQ0FBQUEsWUFBWSx5QkFBQ0osT0FBTyxDQUFDLHdCQUFELENBQVIsQ0FBbEIsQ0FJQTt1QkFDQUMsTUFBTSxDQUFDSSxHQUFQLENBQVcsZUFBWCxDQUEyQixTQUFTQyxHQUFULENBQWFDLEdBQWIsQ0FDM0IsK0NBQ0dDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVCQUFaLEVBREgsdUJBRUdMLFlBQVksQ0FBQ00sSUFBYixDQUFrQixFQUFsQixFQUNDQyxJQURELENBQ00sU0FBU0MsR0FBVCxDQUFhQyxjQUFiLENBQ04sK0NBQ0ksR0FBR0QsR0FBSCxDQUNBLGtEQUNJTCxHQUFHLENBQUNPLElBQUosQ0FBUyxtQkFBVCxFQUNILENBSEQsSUFHSyxrREFDRE4sT0FBTyxDQUFDQyxHQUFSLENBQVlJLGNBQVosRUFEQyx3QkFFRE4sR0FBRyxDQUFDUSxJQUFKLENBQVNGLGNBQVQsRUFDSCxDQUNKLENBVkQsRUFXRixDQWRELEVBdUJBO3dCQUNBWixNQUFNLENBQUNJLEdBQVAsQ0FBVyxzQkFBWCxDQUFrQyxTQUFTQyxHQUFULENBQWFDLEdBQWIsQ0FDbEMsZ0RBQ0dDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLEVBREgsd0JBRUdMLFlBQVksQ0FBQ1ksT0FBYixDQUFxQixFQUFyQixFQUNDTCxJQURELENBQ00sU0FBU0MsR0FBVCxDQUFhSyxZQUFiLENBQ04sZ0RBQ0ksR0FBR0wsR0FBSCxDQUNBLG1EQUNJTCxHQUFHLENBQUNPLElBQUosQ0FBUyxtQkFBVCxFQUNILENBSEQsSUFHSyxtREFDRE4sT0FBTyxDQUFDQyxHQUFSLENBQVlRLFlBQVosRUFEQyx3QkFFRFYsR0FBRyxDQUFDTyxJQUFKLENBQVNHLFlBQVQsRUFDSCxDQUNKLENBVkQsRUFXRixDQWRELEVBZUE7d0JBQ0FoQixNQUFNLENBQUNpQixJQUFQLENBQVksZUFBWixDQUE0QixTQUFTWixHQUFULENBQWFDLEdBQWIsQ0FDNUIsZ0RBQ0dILFlBQVksQ0FBQ2UsTUFBYixDQUFvQmIsR0FBRyxDQUFDYyxJQUF4QixFQUE4QkMsSUFBOUIsQ0FBbUMsU0FBU0osWUFBVCxDQUNuQyxnREFDSVYsR0FBRyxDQUFDTyxJQUFKLENBQVNHLFlBQVQsRUFDSCxDQUhELEVBSUYsQ0FORCxFQVFBO3dCQUNBaEIsTUFBTSxDQUFDcUIsTUFBUCxDQUFjLG1CQUFkLENBQWtDLFNBQVNoQixHQUFULENBQWFDLEdBQWIsQ0FDbEMsZ0RBQ0lILFlBQVksQ0FBQ21CLGlCQUFiLENBQStCakIsR0FBRyxDQUFDa0IsTUFBSixDQUFXQyxFQUExQyxFQUE4Q0osSUFBOUMsQ0FBbUQsU0FBU0osWUFBVCxDQUNuRCxnREFDSVYsR0FBRyxDQUFDTyxJQUFKLENBQVNHLFlBQVQsRUFDSCxDQUhELEVBSUgsQ0FORCxFQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyx3QkFLQVMsTUFBTSxDQUFDQyxPQUFQLENBQWlCMUIsTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzPXJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuLy9jb25zdCBjYXRlZ29yeSA9IHJlcXVpcmUoJy4uL21vZGVscy9jYXRlZ29yeScpO1xyXG5jb25zdCByb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgQ2F0ZWdvcnk9cmVxdWlyZSgnLi4vbW9kZWxzL2NhdGVnb3J5Jyk7XHJcbmNvbnN0IG1haW5DYXRlZ29yeT1yZXF1aXJlKCcuLi9tb2RlbHMvbWFpbkNhdGVnb3J5Jyk7XHJcblxyXG5cclxuXHJcbi8vZ2V0IG1haW5DYXRlZ29yaWVzXHJcbnJvdXRlci5nZXQoJy9tYWluQ2F0ZWdvcnknLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgY29uc29sZS5sb2coXCJHZXR0aW5nIGFsbCB0aGUgaXRlbXNcIik7XHJcbiAgIG1haW5DYXRlZ29yeS5maW5kKHt9KVxyXG4gICAuZXhlYyhmdW5jdGlvbihlcnIsbWFpbmNhdGVnb3JpZXMpXHJcbiAgIHtcclxuICAgICAgIGlmKGVycilcclxuICAgICAgIHtcclxuICAgICAgICAgICByZXMuc2VuZCgnZXJyb3IgaGFzIG9jY3VyZWQnKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKG1haW5jYXRlZ29yaWVzKTtcclxuICAgICAgICAgICByZXMuanNvbihtYWluY2F0ZWdvcmllcyk7XHJcbiAgICAgICB9XHJcbiAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL2dldCB3aXRoIHJlc3BlY3QgdGl0bGVcclxucm91dGVyLmdldCgnL21haW5DYXRlZ29yeS86dGl0bGUnLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgY29uc29sZS5sb2coXCJHZXR0aW5nIG9uZSBDYXRlZ29yeVwiKTtcclxuICAgbWFpbkNhdGVnb3J5LmZpbmRPbmUoe30pXHJcbiAgIC5leGVjKGZ1bmN0aW9uKGVycixtYWluY2F0ZWdvcnkpXHJcbiAgIHtcclxuICAgICAgIGlmKGVycilcclxuICAgICAgIHtcclxuICAgICAgICAgICByZXMuc2VuZCgnZXJyb3IgaGFzIG9jY3VyZWQnKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKG1haW5jYXRlZ29yeSk7XHJcbiAgICAgICAgICAgcmVzLnNlbmQobWFpbmNhdGVnb3J5KTtcclxuICAgICAgIH1cclxuICAgfSk7XHJcbn0pO1xyXG4vL3Bvc3QgdGhlIG1haW4gY2F0ZWdvcmllc1xyXG5yb3V0ZXIucG9zdCgnL21haW5DYXRlZ29yeScsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBtYWluQ2F0ZWdvcnkuY3JlYXRlKHJlcS5ib2R5KS50aGVuKGZ1bmN0aW9uKG1haW5jYXRlZ29yeSlcclxuICAge1xyXG4gICAgICAgcmVzLnNlbmQobWFpbmNhdGVnb3J5KTtcclxuICAgfSk7XHJcbn0pO1xyXG5cclxuLy9kZWxldGUgc3BlY2lmaWMgY3JlYXRlZCBvYmplY3RzXHJcbnJvdXRlci5kZWxldGUoJy9tYWluQ2F0ZWdvcnkvOmlkJyxmdW5jdGlvbihyZXEscmVzKVxyXG57XHJcbiAgICBtYWluQ2F0ZWdvcnkuZmluZEJ5SWRBbmRSZW1vdmUocmVxLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbihtYWluY2F0ZWdvcnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzLnNlbmQobWFpbmNhdGVnb3J5KTtcclxuICAgIH0pO1xyXG59KVxyXG5cclxuLy9lZGl0XHJcbi8qcm91dGVyLnBhdGNoKCcvbWFpbkNhdGVnb3J5LzppZCcgLChyZXEscmVzKT0+XHJcbntcclxubWFpbkNhdGVnb3J5LmZpbmRPbmVBbmRVcGRhdGUoeydfaWQnOnJlcS5wYXJhbXMuaWR9LHsgJHNldDpyZXEuYm9keSB9KVxyXG4udGhlbigobWFpbmNhdGVnb3J5KT0+e1xyXG4gICAgaWYobWFpbmNhdGVnb3J5KVxyXG4gICAge1xyXG4gICAgICAgIHJlcy5qc29uKG1haW5jYXRlZ29yeSk7XHJcbiAgICBcclxuICAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5qc29uKFwiSW52YWxpZCBJZCFcIik7XHJcbiAgICB9XHJcbiAgICAgfSkuY2F0Y2goKGVycik9PntcclxuICAgICAgICAgaWYoZXJyKVxyXG4gICAgICAgICB7XHJcbiAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgIH1cclxuICAgICB9KTtcclxuXHJcbn0pO1xyXG5cclxuXHJcbi8vY2F0ZWdvcmllc1xyXG5cclxuLy9nZXQgYSBsaXN0IG9mIGNhdGVnb3JpZXMgZnJvbSB0aGUgZGJcclxucm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgY29uc29sZS5sb2coXCJHZXR0aW5nIGFsbCB0aGUgaXRlbXNcIik7XHJcbiAgIENhdGVnb3J5LmZpbmQoe30pXHJcbiAgIC5leGVjKGZ1bmN0aW9uKGVycixjYXRlZ29yaWVzKVxyXG4gICB7XHJcbiAgICAgICBpZihlcnIpXHJcbiAgICAgICB7XHJcbiAgICAgICAgICAgcmVzLnNlbmQoJ2Vycm9yIGhhcyBvY2N1cmVkJyk7XHJcbiAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTtcclxuICAgICAgICAgICByZXMuanNvbihjYXRlZ29yaWVzKTtcclxuICAgICAgIH1cclxuICAgfSlcclxufSk7XHJcbi8vZ2V0IHNwZWNpZmljIGNhdGVnb3J5XHJcbnJvdXRlci5nZXQoJy9jYXRlZ29yaWVzLzp0aXRsZScsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBjb25zb2xlLmxvZyhcIkdldHRpbmcgb25lIENhdGVnb3J5XCIpO1xyXG4gICBDYXRlZ29yeS5maW5kT25lKHt9KVxyXG4gICAuZXhlYyhmdW5jdGlvbihlcnIsY2F0ZWdvcnkpXHJcbiAgIHtcclxuICAgICAgIGlmKGVycilcclxuICAgICAgIHtcclxuICAgICAgICAgICByZXMuc2VuZCgnZXJyb3IgaGFzIG9jY3VyZWQnKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcclxuICAgICAgICAgICByZXMuc2VuZChjYXRlZ29yeSk7XHJcbiAgICAgICB9XHJcbiAgIH0pO1xyXG59KTtcclxuXHJcbi8vY3JlYXRlIG5ldyBvYmplY3RzXHJcbnJvdXRlci5wb3N0KCcvY2F0ZWdvcmllcycsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBDYXRlZ29yeS5jcmVhdGUocmVxLmJvZHkpLnRoZW4oZnVuY3Rpb24oY2F0ZWdvcmllcylcclxuICAge1xyXG4gICAgICAgcmVzLnNlbmQoY2F0ZWdvcmllcyk7XHJcbiAgIH0pO1xyXG59KTtcclxuXHJcbi8vZGVsZXRlIHNwZWNpZmljIGNyZWF0ZWQgb2JqZWN0c1xyXG5yb3V0ZXIuZGVsZXRlKCcvY2F0ZWdvcmllcy86aWQnLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgIENhdGVnb3J5LmZpbmRCeUlkQW5kUmVtb3ZlKHJlcS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24oY2F0ZWdvcnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzLnNlbmQoY2F0ZWdvcnkpO1xyXG4gICAgfSk7XHJcbn0pXHJcblxyXG5yb3V0ZXIucGF0Y2goJy9jYXRlZ29yaWVzLzppZCcgLChyZXEscmVzKT0+XHJcbntcclxuQ2F0ZWdvcnkuZmluZE9uZUFuZFVwZGF0ZSh7J19pZCc6cmVxLnBhcmFtcy5pZH0seyAkc2V0OnJlcS5ib2R5IH0pXHJcbi50aGVuKChjYXRlZ29yeSk9PntcclxuICAgIGlmKGNhdGVnb3J5KVxyXG4gICAge1xyXG4gICAgICAgIHJlcy5qc29uKGNhdGVnb3J5KTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbihcIkludmFsaWQgSWQhXCIpO1xyXG4gICAgfVxyXG4gICAgIH0pLmNhdGNoKChlcnIpPT57XHJcbiAgICAgICAgIGlmKGVycilcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG59KTtcclxuXHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvY2F0ZWdvcmllcy86aWQnLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgIENhdGVnb3J5LmZpbmRCeUlkQW5kUmVtb3ZlKHJlcS5wYXJhbXMuaWQpLnRoZW4oZnVuY3Rpb24oY2F0ZWdvcnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzLnNlbmQoY2F0ZWdvcnkpO1xyXG4gICAgfSk7XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9Qcm9kdWN0c1xyXG5jb25zdCBQcm9kdWN0PXJlcXVpcmUoJy4uL21vZGVscy9wcm9kdWN0Jyk7XHJcblxyXG4vL2dldCBhIGxpc3Qgb2YgY2F0ZWdvcmllcyBmcm9tIHRoZSBkYlxyXG5yb3V0ZXIuZ2V0KCcvcHJvZHVjdCcsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBjb25zb2xlLmxvZyhcIkdldHRpbmcgYWxsIHRoZSBpdGVtc1wiKTtcclxuICAgUHJvZHVjdC5maW5kKHt9KVxyXG4gICAuZXhlYyhmdW5jdGlvbihlcnIscHJvZHVjdClcclxuICAge1xyXG4gICAgICAgaWYoZXJyKVxyXG4gICAgICAge1xyXG4gICAgICAgICAgIHJlcy5zZW5kKCdlcnJvciBoYXMgb2NjdXJlZCcpO1xyXG4gICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdCk7XHJcbiAgICAgICAgICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcbiAgICAgICB9XHJcbiAgIH0pXHJcbn0pO1xyXG5cclxuLy9nZXQgYSBzcGVjaWZpYyBwcm9kdWN0IGJ5IGl0J3MgdGl0bGVcclxucm91dGVyLmdldCgnL3Byb2R1Y3QvOmNhdGVnb3J5JyxmdW5jdGlvbihyZXEscmVzKVxyXG57XHJcbiAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyBvbmUgcHJvZHVjdFwiKTtcclxuICAgUHJvZHVjdC5maW5kT25lKHt9KVxyXG4gICAuZXhlYyhmdW5jdGlvbihlcnIscHJvZHVjdClcclxuICAge1xyXG4gICAgICAgaWYoZXJyKVxyXG4gICAgICAge1xyXG4gICAgICAgICAgIHJlcy5zZW5kKCdlcnJvciBoYXMgb2NjdXJlZCcpO1xyXG4gICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdCk7XHJcbiAgICAgICAgICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcbiAgICAgICB9XHJcbiAgIH0pO1xyXG59KTtcclxuLy9nZXQgc3BlY2lmaWMgcHJvZHVjdHMgIGJ5IHNwZWNpZmljIGlkXHJcbnJvdXRlci5nZXQoXCIvcHJvZHVjdC86aWRcIiwocmVxLHJlcyk9PlxyXG57XHJcbiBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnRoZW4oKHByb2R1Y3QpPT57XHJcbmlmKHByb2R1Y3QpXHJcbntcclxuICAgIFxyXG4gICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcblxyXG59XHJcbmVsc2V7XHJcbiAgICByZXMuanNvbihcIkludmFsaWQgSWQhXCIpO1xyXG59XHJcbiB9KS5jYXRjaCgoZXJyKT0+e1xyXG4gICAgIGlmKGVycilcclxuICAgICB7XHJcbiAgICAgICAgIHRocm93IGVycjtcclxuICAgICB9XHJcbiB9KTtcclxufSk7XHJcblxyXG4vL3VwZGF0ZSBzZXBlY2lmaWMgaXRlbXNcclxucm91dGVyLnB1dCgnL3Byb2R1Y3QvOnRpdGxlJyxmdW5jdGlvbihyZXEscmVzKVxyXG57XHJcbiAgIGNvbnNvbGUubG9nKFwidXBkYXRpbmcgc3BlY2lmaWMgaXRlbXNcIik7XHJcbiAgIFByb2R1Y3QuZmluZE9uZUFuZFVwZGF0ZSh7dGl0bGU6cmVxLnBhcmFtcy50aXRsZX0scmVxLmJvZHkpLnRoZW4oZnVuY3Rpb24oKVxyXG4gICB7XHJcbiAgICBQcm9kdWN0LmZpbmRPbmUoe3RpdGxlOnJlcS5wYXJhbXMudGl0bGV9KS50aGVuKGZ1bmN0aW9uKHByb2R1Y3QpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5qc29uKHByb2R1Y3QpO1xyXG4gICAgfSk7XHJcbiAgIH0pO1xyXG59KTtcclxuXHJcbi8vY3JlYXRlIG5ldyBvYmplY3RzXHJcbnJvdXRlci5wb3N0KCcvcHJvZHVjdCcsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBQcm9kdWN0LmNyZWF0ZShyZXEuYm9keSkudGhlbihmdW5jdGlvbihwcm9kdWN0KVxyXG4gICB7XHJcbiAgICAgICByZXMuanNvbihwcm9kdWN0KTtcclxuICAgfSk7XHJcbn0pO1xyXG5cclxuLy91cGRhdGVcclxucm91dGVyLnBhdGNoKCcvcHJvZHVjdC86aWQnICwocmVxLHJlcyk9PlxyXG57XHJcblByb2R1Y3QuZmluZE9uZUFuZFVwZGF0ZSh7J19pZCc6cmVxLnBhcmFtcy5pZH0seyAkc2V0OnJlcS5ib2R5IH0pXHJcbi50aGVuKChwcm9kdWN0KT0+e1xyXG4gICAgaWYocHJvZHVjdClcclxuICAgIHtcclxuICAgICAgICByZXMuanNvbihwcm9kdWN0KTtcclxuICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuanNvbihcIkludmFsaWQgSWQhXCIpO1xyXG4gICAgfVxyXG4gICAgIH0pLmNhdGNoKChlcnIpPT57XHJcbiAgICAgICAgIGlmKGVycilcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG59KTtcclxuLy9kZWxldGUgc3BlY2lmaWMgaWRcclxucm91dGVyLmRlbGV0ZSgnL3Byb2R1Y3QvOmlkJyxmdW5jdGlvbihyZXEscmVzKVxyXG57XHJcbiAgICBQcm9kdWN0LmZpbmRCeUlkQW5kUmVtb3ZlKHJlcS5wYXJhbXMuaWQpXHJcbiAgICAudGhlbigocHJvZHVjdCk9PntcclxuICAgICAgICBpZihwcm9kdWN0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKFwiSW52YWxpZCBJZCFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICB9KS5jYXRjaCgoZXJyKT0+e1xyXG4gICAgICAgICAgICAgaWYoZXJyKVxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgfSk7XHJcbn0pO1xyXG5cclxuLy9wb3N0IGl0ZW1zIGluIGEgY2FydFxyXG5jb25zdCBDYXJ0PXJlcXVpcmUoJy4uL21vZGVscy9jYXJ0Jyk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL0NhcnQvOnVzZXJJZC86cHJvZHVjdElkLzp0aXRsZS86cHJpY2UnLChyZXEscmVzKT0+XHJcbntcclxubmV3IENhcnQoeyd1c2VySWQnOnJlcS5wYXJhbXMudXNlcklkLCdwcm9kdWN0SWQnOnJlcS5wYXJhbXMucHJvZHVjdElkLCd0aXRsZSc6cmVxLnBhcmFtcy50aXRsZSwncHJpY2UnOnJlcS5wYXJhbXMucHJpY2UsJ3F1YW50aXR5JzpyZXEuYm9keS5xdWFudGl0eX0pXHJcbi5zYXZlKClcclxuLnRoZW4oKGNhcnQpPT4gcmVzLnNlbmQoY2FydCkpXHJcbi5jYXRjaCgoZXJyb3IpPT4gY29uc29sZS5sb2coZXJyb3IpKTtcclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL0NhcnQnLGZ1bmN0aW9uKHJlcSxyZXMpXHJcbntcclxuICAgQ2FydC5jcmVhdGUocmVxLmJvZHkpLnRoZW4oZnVuY3Rpb24ocHJvZHVjdClcclxuICAge1xyXG4gICAgICAgcmVzLmpzb24ocHJvZHVjdCk7XHJcbiAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5yb3V0ZXIuZ2V0KCcvQ2FydCcsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICBjb25zb2xlLmxvZyhcIkdldHRpbmcgYWxsIHRoZSBpdGVtcyBpbiBhIGNhcnRcIik7XHJcbiAgIENhcnQuZmluZCh7fSlcclxuICAgLmV4ZWMoZnVuY3Rpb24oZXJyLGNhcnQpXHJcbiAgIHtcclxuICAgICAgIGlmKGVycilcclxuICAgICAgIHtcclxuICAgICAgICAgICByZXMuc2VuZCgnZXJyb3IgaGFzIG9jY3VyZWQnKTtcclxuICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKGNhcnQpO1xyXG4gICAgICAgICAgIHJlcy5qc29uKGNhcnQpO1xyXG4gICAgICAgfVxyXG4gICB9KVxyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoXCIvQ2FydC86aWRcIiwocmVxLHJlcyk9PlxyXG57XHJcbiBDYXJ0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpLnRoZW4oKHByb2R1Y3QpPT57XHJcbmlmKHByb2R1Y3QpXHJcbntcclxuICAgIHJlcy5qc29uKHByb2R1Y3QpO1xyXG5cclxufVxyXG5lbHNle1xyXG4gICAgcmVzLmpzb24oXCJJbnZhbGlkIElkIVwiKTtcclxufVxyXG4gfSkuY2F0Y2goKGVycik9PntcclxuICAgICBpZihlcnIpXHJcbiAgICAge1xyXG4gICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgfVxyXG4gfSk7XHJcbn0pO1xyXG5cclxuXHJcbnJvdXRlci5nZXQoJy9DYXJ0Lzp1c2VySWQvcHJvZHVjdHMnLChyZXEscmVzKT0+XHJcbntcclxuICAgIENhcnQuZmluZCh7dXNlcklkOnJlcS5wYXJhbXMudXNlcklkfSlcclxuICAgIC50aGVuKChwcm9kdWN0cyk9PiByZXMuc2VuZChwcm9kdWN0cykpXHJcbiAgICAuY2F0Y2goKGVycm9yKT0+Y29uc29sZS5sb2coZXJyb3IpKTtcclxufSk7XHJcblxyXG4vL2RlbGV0ZSBjYXJ0IGl0ZW1zXHJcbnJvdXRlci5kZWxldGUoJy9DYXJ0LzppZCcsZnVuY3Rpb24ocmVxLHJlcylcclxue1xyXG4gICAgQ2FydC5maW5kQnlJZEFuZFJlbW92ZShyZXEucGFyYW1zLmlkKVxyXG4gICAgLnRoZW4oKGNhcnQpPT57XHJcbiAgICAgICAgaWYoY2FydClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKGNhcnQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXMuanNvbihcIkludmFsaWQgSWQhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgfSkuY2F0Y2goKGVycik9PntcclxuICAgICAgICAgICAgIGlmKGVycilcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG59KTsgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxucm91dGVyLnB1dCgnL0NhcnQvOmlkJyxmdW5jdGlvbihyZXEscmVzKVxyXG57XHJcbiAgIGNvbnNvbGUubG9nKFwidXBkYXRpbmcgc3BlY2lmaWMgaXRlbXNcIik7XHJcbiAgIENhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEucGFyYW1zLmlkfSxyZXEuYm9keSkudGhlbihmdW5jdGlvbihwcm9kdWN0KVxyXG4gICB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xyXG4gICAgfSk7XHJcbiAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgLy9TYWxlIFByb2R1Y3RzXHJcblxyXG4gIFxyXG5cclxuXHJcbiAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL21haW5jYXRlZ29yeXdpc2UgY2F0ZWdvcmllc1xyXG5yb3V0ZXIuZ2V0KCcvbWFpbkNhdGVnb3J5Lzp0aXRsZS9jYXRlZ29yaWVzJywocmVxLHJlcyk9PlxyXG57XHJcbkNhdGVnb3J5LmZpbmQoe21haW5DYXRlZ29yeTpyZXEucGFyYW1zLnRpdGxlfSlcclxuLnRoZW4oKGNhdGVnb3JpZXMpPT4gcmVzLnNlbmQoY2F0ZWdvcmllcykpXHJcbi5jYXRjaCgoZXJyb3IpPT5jb25zb2xlLmxvZyhlcnJvcikpO1xyXG59KTtcclxuLy9jYXRlZ29yeXdpc2UgcHJvZHVjdHNcclxuXHJcbnJvdXRlci5nZXQoJy9jYXRlZ29yaWVzLzp0aXRsZS9wcm9kdWN0JywocmVxLHJlcyk9PlxyXG57XHJcblByb2R1Y3QuZmluZCh7Y2F0ZWdvcnk6cmVxLnBhcmFtcy50aXRsZX0pXHJcbi50aGVuKChwcm9kdWN0cyk9PiByZXMuc2VuZChwcm9kdWN0cykpXHJcbi5jYXRjaCgoZXJyb3IpPT5jb25zb2xlLmxvZyhlcnJvcikpO1xyXG59KTtcclxuXHJcbi8qKnJvdXRlci5nZXQoJy9jYXRlZ29yaWVzLzp0aXRsZS9zYWxlJywocmVxLHJlcyk9PlxyXG57XHJcblNhbGUuZmluZCh7Y2F0ZWdvcnk6cmVxLnBhcmFtcy50aXRsZX0pXHJcbi50aGVuKChwcm9kdWN0cyk9PiByZXMuc2VuZChwcm9kdWN0cykpXHJcbi5jYXRjaCgoZXJyb3IpPT5jb25zb2xlLmxvZyhlcnJvcikpO1xyXG59KTtcclxuKiovXHJcblxyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXX0=